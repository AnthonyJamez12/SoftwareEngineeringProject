{% extends 'main/base.html' %}
{% load static %}


{% block content %}
<link href= "{% static 'css/profile.css' %}" rel="stylesheet">
<body>

<div class="container">
    <div class="row ">
        <div class=".col">
            {% for x in profile %}
                <img src="{{ x.profile_picture.url }}" alt="" class="profile_pic" height= 250px width = 250px>
            {% endfor %}

        </div>
        <div class=".col">
            <h2 class="h2-responsive">{{user}}</h2>
            <a href="{% url 'profile_settings' user %}" class = "edit_profile_link"><button class = "edit_profile_button" type="button" >Edit Profile</button></a>
            {% for x in profile %}
            <p>{{ x.first_name | default_if_none:"" }} {{ x.last_name  | default_if_none:""}}</p>
            <p>{{ x.bio | default_if_none:""  }} </p>
            {% endfor %}
        </div>
    </div>
<hr>
    <div class="row ">
        <div class="container">
            {% for x in img %}
            {% if forloop.first %}<div class="row ">{% endif %}
                <div class="col-lg-4 col-md-4 col-12" >
            <div class="text-center mt-2">
                <img src="{{x.file.url}}" height="100%" width="100%"  class="myImg">
                <audio class="audio-player" preload="metadata" autoplay="false" src="{{x.img.url}}"></audio>
                <!-- <div id="caption" class="myCaption">{{x.caption}}</div> -->

            </div>
                </div>
                {% if forloop.counter|divisibleby:3 %}
            </div>
            <div class=row>{% endif %}
                {% if forloop.last %}</div>{% endif %}
            {% endfor %}
        </div>
    </div>
</div>


<div class=" flex items-center justify-center py-12 relative" style="background: #edf2f7; ">
    <div class="min-h-screen bg-gray-100 flex flex-col items-center justify-center">

  <div class="relative max-w-xl w-full h-36 bg-white rounded-lg shadow-lg overflow-hidde mb-32">
    <div class="absolute inset-0 rounded-lg overflow-hidden bg-red-200">
      <img src="" alt="">
      <div class="absolute inset-0 backdrop backdrop-blur-10 bg-gradient-to-b from-transparent to-black">

      </div>
    </div>
    <div class="absolute flex space-x-6 transform translate-x-6 translate-y-8">
      <div class="w-36 h-36 rounded-lg shadow-lg overflow-hidden">
        <img class="music_img w-full object-cover" src="" alt="">
      </div>
      <div class="text-white pt-12">
        <h3 class="font-bold">Album</h3>
        <div class="text-sm opacity-60 album">Super Interpret</div>
        <div class="mt-8 text-gray-400">
          <div class="flex items-center space-x-2 text-xs">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path></svg>
            <span>Easy listening</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="max-w-xl bg-white rounded-lg shadow-lg overflow-hidden">
    <div class="relative">
      <img
        src=""
        class="object-cover">
      <div class="absolute p-4 inset-0 flex flex-col justify-end bg-gradient-to-b from-transparent to-gray-900 backdrop backdrop-blur-5 text-white">
        <h3 class="font-bold artist">Super Artist</h3>
        <span class="opacity-70 song-title">Albumtitle</span>
      </div>
    </div>
    <div>
      <div class="relative h-1 bg-gray-200 progress_container">
        <div class="absolute h-full w-2 progress bg-green-500 flex items-center justify-end">
          <div class="rounded-full w-3 h-3 bg-white shadow"></div>
        </div>
      </div>
    </div>
    <div class="flex justify-between text-xs font-semibold text-gray-500 px-4 py-2">
      <div class="currentDuration">
        0:00
      </div>
      <div class="flex space-x-3 p-2">
        <button class="focus:outline-none hover:bg-gray-200 prev">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg>
        </button>
        <button class="rounded-full w-8 h-8 flex hover:bg-gray-200 items-center justify-center pl-0.5 ring-2 ring-gray-100 focus:outline-none playing">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        </button>
        <button class="focus:outline-none hover:bg-gray-200 next">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg>
        </button>
      </div>
      <div class="Duration">
        0:00
      </div>
    </div>
    <ul class="text-xs sm:text-base divide-y border-t cursor-default audio-tracks">
      {% for uploads in musics %}

      <li class="flex items-center space-x-3 hover:bg-gray-100">
        <button class="p-3 hover:bg-green-500 group focus:outline-none play_single">
          <svg class="w-4 h-4 group-hover:text-white play_svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        </button>
        <div class="flex-1">
          {{uploads.artiste}} - {{uploads.title}}
        </div>
        <div class="text-xs text-gray-400">
          {{uploads.time_length }}
        </div>
        <a href="media/{{uploads.audio_file}}" class="focus:outline-none pr-4 group">
          <svg class="w-4 h-4 group-hover:text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"/></svg>
        </a>
      </li>
      {% endfor %}

    </ul>
  </div>
</div>
<a href="/add" class="w-20 h-20 bg-green-600 absolute rounded-full right-48 bottom-12 flex justify-center items-center cursor-pointer block">


    <svg xmlns='http://www.w3.org/2000/svg' class='ionicon h-10 w-10 text-gray-100 font-black' viewBox='0 0 512 512'><title>Add</title><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M256 112v288M400 256H112'/></svg>

</a>
<audio class="audio-player" preload="metadata" autoplay="false" src="/media/musics/2017-04-14_-_Happy_Dreams_-_David_Fesliyan.mp3"></audio>
</div>



{% for x in img %}
<!-- The Modal -->
<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <img src="{{x.file.url}}" class="modal-content" id="img01">
  <div id="caption" class="modal-content">{{x.caption}}</div>
</div>
{% endfor %}

<script>

    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = $('.myImg');
    var modalImg = $("#img01");
    var captionText = $("#caption");
    $('.myImg').click(function(){
        modal.style.display = "block";
        var newSrc = this.src;
        var newAlt = this.innerHTML;
        modalImg.attr('src', newSrc);
        captionText.attr('innerHTML', newAlt);
    });

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }

</script>




{% endblock %}
</body>
